<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>NBA Game Prediction</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/freelancer.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top"></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#introduction">Introduction</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#related">Related work</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#approach">Approach</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#results">Results</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#conclusions">Conclusions</a>
                    </li>
                    <li class="page-scroll">
                        <a href="demo/demo.htm">Demo</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Full Width Image Header -->
    <header>
        <div>
            <div class="container">
                <h2>NBA game prediction based on historical data and injuries</h2>
                <h4>CAP 5610 - Machine Learning</h4>
                <h4>Prof. Ruogu Fang</h4>
                <h4>Team members: Gregory Jean-Baptiste, Xuejiao Liu, Dionny Santiago</h4>
            </div>
        </div>
    </header>

    <!-- Page Content -->
    <div class="container">

        <hr class="featurette-divider">

        <!-- First Featurette -->
        <div class="featurette" id="introduction">
            <h2 class="featurette-heading">Introduction</h2>

            <p class="lead">Basketball is one the most popular games in the United States and also has much popularity abroad. It began as a simple gym exercise in the late 1800’s and slowly moved from high schools and into colleges. Finally, in the early 1950’s, the National Basketball Association (NBA) emerged as a major governing body of the professional version of the game. Ever since, the NBA has presided over a yearly tournament between official professional teams from all over North America. The annual tournament is called a season. During a season, each team competes against others several times and track their wins and losses. After a number of games (in the hundreds), the 16 teams with the most wins compete against each other in an elimination style tournament called the Playoffs. Playoff matches are best four out of seven. The team that wins the Playoffs win the whole season. 
            </p>
            <p class="lead">Our goal in this project is to attempt predicting the outcome of Basketball matches before they happen based on the characteristics of the two teams that are competing. While this may not be something that will benefit humanity in a great way, there a still some interesting applications of such predictions. For example, fantasy basketball is a virtual game where players can create teams based on real players and earn ranking based on the performance of their selected basketball players in real life. It may be beneficial for them to be able to predict how various teams will do and pick real players based on that. Fantasy Basketball, and fantasy sports in general generate millions a year.</p>
        </div>

        <hr class="featurette-divider">

        <!-- Related work -->
        <div class="featurette" id="related">
            <h2 class="featurette-heading">Related work</h2>
            <p class="lead">In "Prediction of NBA games based on Machine Learning Methods" [Torres 2013] the goal is to survey several machine learning methods on a limited set of features. The major contributions were a great starting feature set starting point (although the data itself is not provided) for predicting NBA seasons 2006-2012. It was also determined that linear classifiers are particularly strong at NBA game prediction. </p>
            <p class="lead">In "NBA Oracle" [Beckler et. al. 2008], once again several machine learning methods are used to predict NBA games of older seasons (1992-1996). While the first paper focused on team-centric features, this paper also dived into player-centric features. The paper also focuses on cluster analysis to predict optimal player positioning. </p>
            <p class="lead">We explored several other approaches, for example: "A Multivariate Statistical Analysis of the NBA" [Hoffman et. al. 2003] which also focused on exploring different basketball team/player features, and on statistical analysis rather than machine learning. Due to the limited amount of time for this project, we have decided to pursue different machine learning algorithms that have either not been mentioned in the research we looked at, or not applied to the specific seasons we are looking at. In addition, we are choosing to focus solely on team-centric data, once again due to time constraints.</p>
        </div>

        <hr class="featurette-divider">

        <!-- Approach -->
        <div class="featurette" id="approach">
            <!--<img class="featurette-image img-responsive pull-right" src="./img/system_architecture.png">-->

            <h2 class="featurette-heading">Approach</h2>

            <p class="lead">Our approach consisted of the following steps: collecting metrics, preprocessing the data, and using several classification methods. A considerable amount of time and effort was spent collecting new data for the latest NBA seasons, as well as collecting novel data such as player injury information.</p>
            <h3><span class="text-muted">Data Collection</span></h3>
            <p class="lead">Before a strategy for training and testing on classifiers could be devised, the relevant data had to be collected. The official API for raw NBA statistics is not free for developer, so an alternate data source was found at stats.nba.com/stats. It took a considerable amount of time to go over the API and filter out data that was not useful. The resulting data consisted of individual game statistics, information about active teams based on the year and information about individual players. In its original format, there was not much that could be done with the data for machine learning purposes, so other metrics were devised based on what was available.</p>

            <p class="lead">One last feature that was included was player   injury count. Every team usually has one or two “star” players who on average perform better than the rest of their teammates. The presence of these players drive the performance of the whole team, so the outcome of a single game can be determined by whether or not the star players are present. It would be beneficial to know if any members of the current team are injured and cannot participate in a match. http://www.prosportstransactions.com/basketball/ provides details about when players are injured and when they recover, at which point they would once again be able to play. The data is presented in tables through html, but no api is provided. It would have been too time consuming to manually copy the necessary data from the site into the necessary formats. As such, a web crawler was developed that reads the data from the web pages, extracts relevant information and stores it in a database for later processing.</p>

            <h3><span class="text-muted">Preprocessing Data</span></h3>

            <p class="lead">All of the collected data was preprocessed and aggregated into game records. A game record represents a real game in a season, and contains metrics leading p that game. Based on the research done by Torres et. al in "Prediction of NBA games based on Machine Learning Methods", we collected metrics based on some of the most useful team-centric metrics, such as average win/loss percentages for both teams participating in each game. We also needed to tie in the injury information into each game record. In summary, our preprocessors created game records such that all metrics (or features) took into account all games that were chronologically prior to the given game record. These game records were then labelled with the correct winning team.</p>

            <h3><span class="text-muted">Classification and Validation</span></h3>

            <p class="lead">In order to predict the outcome of a game, several machine learning algorithms were used: K-Nearest Neighbors, Linear Regression, Support Vector Machines, J48 Decision Tree, Logistic Model Tree, Naive Bayes, AdaBoost, and a custom majority vote ensemble. The performance of each algorithm was measured using 10-fold cross validation, and tuned accordingly.</p>

            <p class="lead">Once each algorithm was appropriately tuned, game prediction was done in one of two ways. In the first approach, each classifier was trained on a subset of the previous NBA season. The more data that was trained on for the current season, the less data was trained on from the prior season. Intuitively, we expected this to be more accurate than always training on the full previous season, which was our second approach. After training on either a subset or the full previous season, the classifiers were also trained with the entire current season prior to the game being predicted. This approach essentially gave us an "online" classifier which allows us to predict NBA games before they even happen. Both models are illustrated below.</p>

            <p class="lead">Training on a partial previous season:</p>
            <img class="featurette-image img-responsive" src="img/partialPrevSeason.png" width="65%" height="65%">
            <br><br>
            <p class="lead">Training on the full previous season:</p>
            <img class="featurette-image img-responsive" src="img/fullPrevSeason.png" width="65%" height="65%">
        </div>

        <hr class="featurette-divider">

        <!-- Results -->
        <div class="featurette" id="results">
            <h2 class="featurette-heading">Results</h2>

            <!--<img class="featurette-image img-responsive" src="./img/results_table.png">-->

            <p class="lead">First, we present the results of training classifiers on a portion of last seasons data to test the new season. For 2011, the best algorithm was the SVM with an accuracy of 65.8%. In 2012 it was the Naive Bayes with an accuracy of 67.2%. In 2013, the best algorithm again was the Naive Bayes with 65.4. In 2014, Linear Regression yielded the best accuracy with 68.3 %. Finally, in 2015 the SVM tied the LMT with an accuracy of 67.4%.</p>

            <img class="featurette-image img-responsive" src="./img/partialPrevResults.png" width="65%" height="65%">
            <br><br>
            <img class="featurette-image img-responsive" src="img/partialPreviousGraph.png" width="65%" height="65%">

            <br><br>

            <p class="lead">Next we present the accuracy results when training against the full previous season when predicting each game. In 2011, the ensemble method had the highest accuracy with 65.6%. In 2012, the best classifier was the Naive Bayes with an accuracy of 66.7%. In 2013, K-Nearest Neighbors outperformed others with 65.9% accuracy for both 15 and 40 neighbors respectively. In 2014, both LMT and SVM tied for the best accuracy with 68.2%. Finally, in 2015, Linear Regression was the best algorithm with an accuracy of 68%.</p>
            <img class="featurette-image img-responsive" src="./img/fullPrevResults.png" width="65%" height="65%">
            <br><br>
            <img class="featurette-image img-responsive" src="img/fullPreviousGraph.png" width="65%" height="65%">

            <br><br>
            <p class="lead">Finally, we present the accuracy results when taking into account player injury data for each game. In 2011, the SVM had the highest accuracy with 65.7%. In 2012, AdaBoost had the highest accuracy with 66.4%. Finally, in 2013, Naive Bayes had the highest accuracy with 65.9%. Here, K-Nearest Neighbors with K = 40 performed better in a single instance than the same algorithm with K = 15.</p>
            <img class="featurette-image img-responsive" src="./img/injuryData.png" width="65%" height="65%">
            <br><br>
            <img class="featurette-image img-responsive" src="img/injuryGraph.png" width="65%" height="65%">
        </div>

        <br><br>
        <p class="lead">All of the results across all used algorithms are available on our <a href="demo/demo.htm">demonstration</a> page.</p>

        <hr class="featurette-divider">
        
        <!-- Conclusions -->
        <div class="featurette" id="conclusions">
         
            <h2 class="featurette-heading">Conclusion</h2>
            <p class="lead">As explained in the results section, the injury count did not significantly change the performance of the classifiers. One explanation is that the number of injured players does not take into account the importance of the missing players into account. Calculating the importance a single player would involve analyzing their point contribution over the course of their career on their current team. Next, each player on the team would receive an importance score based on how much they contributed in the season relative to their teammates. A simple method would be dividing the contribution of each player by the sum of points scored during the season. Once an importance metric is in place, we can numerically determine how much a team can be affected by missing players as a feature for each team in a match. Unfortunately, we did not have time accomplish this for our current project. However, we have all the data necessary to finish it in the future.</p>
        </div>

        <hr class="featurette-divider">

        <!-- References -->
        <div class="featurette" id="references">
            <h2 class="featurette-heading">References</h2>

            <p class="lead">Renato Amorim Torres. <i>Prediction of NBA games based on Machine Learning Methods.</i> Project report. (2013), <a href="http://homepages.cae.wisc.edu/~ece539/fall13/project/AmorimTorres_rpt.pdf">http://homepages.cae.wisc.edu/~ece539/fall13/project/AmorimTorres_rpt.pdf</a>.</p>

            <p class="lead">Matthew Beckler, Hongfei Wang. <i>NBA Oracle.</i> Project report. (2008), <a href="http://www.mbeckler.org/coursework/2008-2009/10701_report.pdf">http://www.mbeckler.org/coursework/2008-2009/10701_report.pdf</a>.</p>

            <p class="lead">Lori Hoffman, Maria Joseph. <i>A Multivariate Statistical Analysis of the NBA.</i> Project Report. (2003), <a href="http://www.units.miamioh.edu/sumsri/sumj/2003/NBAstats.pdf">http://www.units.miamioh.edu/sumsri/sumj/2003/NBAstats.pdf</a>.</p>

            <p class="lead">I. H. Witten and E. Frank. 2005. <i>Data mining: Practical machine learning tools and techniques.</i> (2005). <a href="http://www.cs.waikato.ac.nz/ml/weka/index.html">http://www.cs.waikato.ac.nz/ml/weka/index.html</a></p>

            <p class="lead">Colet, E. and Parker, J. <i>Advanced Scout: Data mining and knowledge discovery in NBA data.</i> Data Mining and Knowledge Discovery, Vol. 1, Num. 1, 1997, pp 121 – 125.</p>
            <p class="lead">Orendorff, David, and Johnson, Todd. <i>First-Order Probabilistic Models for Predicting the Winners of
                Professional Basketball Games.</i> Project report. <a href="http://www.ics.uci.edu/dorendor/basket.pdf">http://www.ics.uci.edu/dorendor/basket.pdf</a></p>

            <p class="lead">Babak, Hamadani. <i>Predicting the outcome of NFL games using machine learning.</i> Project
                Report for CS229, Stanford University. <a href="http://www.stanford.edu/class/cs229/proj2006/BabakHamadaniPredictingNFLGames.pdf">http://www.stanford.edu/class/cs229/proj2006/BabakHamadaniPredictingNFLGames.pdf</a></p>
        </div>
        
        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Florida International University</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>

</body>

</html>
